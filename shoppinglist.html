<section class="awe-section">
    <div class="container">
        <div class="page-title pb-40">
            <h2 class="page-title__title">Shopping List</h2>
            <div class="page-title__divider"></div>
        </div>
    </div>
</section>

<section class="awe-section bg-gray">
    <div class="container">
        <div class="row">
            <div class="col-md-12">

                <div class="panel panel-default">

                    <div class="panel-heading">
                        <h3>
                            Shopping List Items: 
                            <span id="counter">1</span>
                        </h3>
                    </div>

                    <div class="panel-body" id="list">
                        <div id="el1">
                            <div class="alert alert-info alert-dismissable">
                                Tomatoes
                                <button type="button" class="close remove-item">
                                    <span>x</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="panel-footer">
                        <input type="text" id="itemName" placeholder="Enter item name">
                        <button type="button" class="btn btn-primary" id="addToList">Add Item</button>

                        <div id="feedback" style="color:red; margin-top:10px;"></div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</section>

<script>
let counter = 1;

function updateCounter() {
    document.getElementById("counter").innerText = counter;
}

function removeItem(event) {
    const alertBox = event.target.closest(".alert");
    alertBox.remove();
    counter--;
    updateCounter();
}

document.getElementById("addToList").addEventListener("click", function () {
    const nameInput = document.getElementById("itemName");
    const feedback = document.getElementById("feedback");
    const list = document.getElementById("list");

    const itemName = nameInput.value.trim();

    if (itemName === "") {
        feedback.textContent = "Item name cannot be empty!";
        return;
    }

    feedback.textContent = ""; 
    counter++;

    const newItem = document.createElement("div");
    newItem.innerHTML = `
        <div class="alert alert-info alert-dismissable">
            ${itemName}
            <button type="button" class="close remove-item">
                <span>x</span>
            </button>
        </div>
    `;

    list.appendChild(newItem);

    newItem.querySelector(".remove-item").addEventListener("click", removeItem);

    nameInput.value = "";
    updateCounter();
});

document.querySelector(".remove-item").addEventListener("click", removeItem);

</script>
